schema {
  query: Query
  mutation: Mutation
}

enum Cloud {
  AWS
  AZURE
  GCP
}

type sandbox {
  account_id: String!
  account_name: String!
  available: String
  assigned_until: String
  assigned_since: String
  assigned_to: String
}

type AWS {
  account_id: String!
}

type AZURE {
  pipeline_id: String!
}

type leaseASandBoxResponse {
  message: String!
  sandbox: sandbox!
}

type createNewSandboxResponse {
  sandbox: sandbox!
}

type listSandboxesResponse {
  sandboxes: [sandbox]
}

type Query {
  listSandboxes(Email: String!): listSandboxesResponse
}

union SearchResult = AZURE | AWS

type Mutation {
  deallocateSandbox(Account_id: String!): leaseASandBoxResponse
  leaseASandBox(
    Email: String!
    Lease_time: String!
    Cloud: Cloud!
  ): [SearchResult]!
  createNewSandbox(
    account_id: String!
    account_name: String!
  ): createNewSandboxResponse!
}
